<!DOCTYPE html>
<html lang="ca">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alta Comandes</title>
    <script src="../BBDD/TendaFakeDades.js"></script>
    <script src="altaComanda.js" defer></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>Alta Comanda</h1>

    <form id="pedidoForm" novalidate>
        <table border="1" cellpadding="4" cellspacing="0">
            <tr>
                <td><label for="datetime">Data</label></td>
                <td><input type="date" id="date" name="date" required></td>
            </tr>
            <tr>
                <td><label for="payment">Forma de Pagament:</label></td>
                <td>
                    <select id="payment" name="payment" required>
                        <option value="">Selecciona...</option>
                        <option value="Credit Card">Targeta de Crèdit</option>
                        <option value="bizum">Bizum</option>
                        <option value="paypal">PayPal</option>
                        <option value="bank transfer">Transferència Bancària</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td><label for="shipping">Despeses d'enviament:</label></td>
                <td><input type="number" id="shipping" name="shipping" min="0" max="500" step="0.01" required></td>
            </tr>
            <tr>
                <td><label for="client">Client:</label></td>
                <td>
                    <select id="client" name="client_id" required>
                        <option value="">Carregant clients...</option>
                    </select>
                </td>
            </tr>
        </table>

        <hr>
        <h3>Afegir producte</h3>
        <table border="1" cellpadding="4" cellspacing="0" width="50%" id="productsTable">
            <thead>
                <tr>
                    <th>Producte</th>
                    <th>Quantitat</th>
                    <th>Preu</th>
                    <th>Descompte %</th>
                    <th>Preu Final Producte</th>
                    <th>Acció</th>
                </tr>
            </thead>
            <tbody>
                <tr class="product-line">
                    <td>
                        <select name="product_id[]" class="productSelect" required>
                            <option value="">Carregant productes...</option>
                        </select>
                    </td>
                    <td><input type="number" name="quantity[]" min="1" required></td>
                    <td><input type="number" step="0.01" name="price[]" min="0" required></td>
                    <td><input type="number" step="0.01" name="discount[]" min="0" value="0.00" ></td>
                    <td><input type="number" name="finalPrice[]" step="0.01" min="0" readonly></td>
                    <td><button type="button" class="addProduct">Afegir</button></td>
                </tr>
            </tbody>
        </table>

        <div id="productesAfegits"></div>

        <br>
        <p id="missatgeError"></p>

        <br>
        <button type="submit">Guardar Comanda</button>
        <button type="button" id="llista">Llista Comandes</button>
    </form>
</body>

</html>